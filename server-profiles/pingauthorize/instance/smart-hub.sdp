[{"@class":"DataStreamHeader","kind":"DeploymentPackageHeader","version":1},{"class":"Package","id":"0bbea599-3cee-4777-aa2a-de56d8cfb196","name":"smart-hub.snapshot","deploymentPackageVersion":1,"applicationName":"Symphonic admin-point-application","applicationVersion":"8.9.0","dateCreated":"2020-12-01T18:06:50.741850Z","createdBy":"admin","snapshotId":"b6ee6321-61ad-4f15-b254-7dfdee6217cf","snapshotMessage":"Release","snapshotDateCommitted":"2020-12-01T18:06:26.315766Z","decisionNodeId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","decisionNodeName":"Global Decision Point","enabledFeatures":[]},{"class":"AlwaysTrueNode","id":"6b0617b1-260a-362a-b56a-09d987f60632"},{"class":"AttributeDefinition","id":"8e568465-2e7c-4705-8d94-53102ea8550f","name":"HttpRequest.AccessToken","resolvers":[{"class":"request","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{}},{"class":"AttributeDefinition","id":"9d722951-77a8-4ae6-94f9-6ced4adfee17","name":"HttpRequest.AccessToken.active","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"false","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"BOOLEAN","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.active"}]}},{"type":"coerce","valueType":"BOOLEAN"}]},"properties":{}},{"class":"AttributeNode","id":"120c0f19-cdc0-395a-96d8-a8c54d1902ab","attributeDefinitionId":"9d722951-77a8-4ae6-94f9-6ced4adfee17"},{"class":"ConstantNode","id":"1bf374de-5983-36ae-8a8b-3aae4ffdc7e6","constant":"false"},{"class":"ComparisonNode","id":"d8c2cda2-2e69-33c2-9680-afd1fdffdee7","lhsInputNode":"120c0f19-cdc0-395a-96d8-a8c54d1902ab","rhsInputNode":"1bf374de-5983-36ae-8a8b-3aae4ffdc7e6","operator":"EQUALS"},{"class":"RequestAxis","id":"7545ec80-a6cc-374a-aac0-7249b28deb71","type":"ACTION"},{"class":"ConstantNode","id":"fb4476eb-ffe8-3ca6-b56f-218aba033631","constant":"inbound-DELETE"},{"class":"ComparisonNode","id":"7f59f236-4510-365d-b7f0-7292e5ee0673","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"fb4476eb-ffe8-3ca6-b56f-218aba033631","operator":"EQUALS"},{"class":"ConstantNode","id":"46a4d66b-baf9-39e2-9ebb-acb4b24bd21b","constant":"inbound-GET"},{"class":"ComparisonNode","id":"e7e845ee-9546-3098-92ef-8afdbf6795b6","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"46a4d66b-baf9-39e2-9ebb-acb4b24bd21b","operator":"EQUALS"},{"class":"ConstantNode","id":"c70d29ae-3119-3571-a2a9-a28c145433a6","constant":"inbound-PATCH"},{"class":"ComparisonNode","id":"d4b65d60-8d1c-37d4-a6bd-a6b8410a8267","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"c70d29ae-3119-3571-a2a9-a28c145433a6","operator":"EQUALS"},{"class":"ConstantNode","id":"49a8e615-d2e0-307b-bfd8-aced12f552bf","constant":"inbound-POST"},{"class":"ComparisonNode","id":"25298459-1b98-380a-9ab2-a81b4f25e3b3","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"49a8e615-d2e0-307b-bfd8-aced12f552bf","operator":"EQUALS"},{"class":"ConstantNode","id":"5eceedf0-cd3f-3533-aeeb-5f7a139845f5","constant":"inbound-PUT"},{"class":"ComparisonNode","id":"3618b139-1668-3444-b2f0-8152f6e6bed8","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"5eceedf0-cd3f-3533-aeeb-5f7a139845f5","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"6e0ea8b1-82b0-3170-88ce-075e877d81ae","inputNodes":["7f59f236-4510-365d-b7f0-7292e5ee0673","e7e845ee-9546-3098-92ef-8afdbf6795b6","d4b65d60-8d1c-37d4-a6bd-a6b8410a8267","25298459-1b98-380a-9ab2-a81b4f25e3b3","3618b139-1668-3444-b2f0-8152f6e6bed8"],"operator":"or"},{"class":"ConditionDefinition","id":"cd212c60-6cf3-4156-9c17-a32162fdda6a","name":"Any Inbound Request","condition":"6e0ea8b1-82b0-3170-88ce-075e877d81ae","properties":{}},{"class":"ConditionReferenceNode","id":"36e18bf2-13bc-3ae4-ad1a-9c65d9fbb215","definitionId":"cd212c60-6cf3-4156-9c17-a32162fdda6a"},{"class":"ConstantNode","id":"440d5479-b2cb-3d13-a912-fb40f6173169","constant":"create"},{"class":"ComparisonNode","id":"e8c29a21-0d4e-3ec6-b75d-f6cdb92bef3d","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"440d5479-b2cb-3d13-a912-fb40f6173169","operator":"EQUALS"},{"class":"ConstantNode","id":"652fa371-4b62-313a-a79a-b1b26ed5378b","constant":"delete"},{"class":"ComparisonNode","id":"da1ce910-e5d3-321e-95bb-24529f1c74d7","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"652fa371-4b62-313a-a79a-b1b26ed5378b","operator":"EQUALS"},{"class":"ConstantNode","id":"3119a1cf-31cd-3e8a-93c1-302316681fd4","constant":"modify"},{"class":"ComparisonNode","id":"5032d904-24ca-31b1-a08d-dea6a36ea4f9","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"3119a1cf-31cd-3e8a-93c1-302316681fd4","operator":"EQUALS"},{"class":"ConstantNode","id":"dc92adad-3c5c-348f-af61-310d27e21758","constant":"retrieve"},{"class":"ComparisonNode","id":"25b189de-dcbf-3c64-bf8d-218c7e77d7f3","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"dc92adad-3c5c-348f-af61-310d27e21758","operator":"EQUALS"},{"class":"ConstantNode","id":"e19181c0-824d-3aa9-83d4-f2ed7d809d34","constant":"search"},{"class":"ComparisonNode","id":"9c2f2dd9-1e8a-32c7-8a89-2864996bb515","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"e19181c0-824d-3aa9-83d4-f2ed7d809d34","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"bc3f2986-053d-3614-8208-9cad1a39447f","inputNodes":["e8c29a21-0d4e-3ec6-b75d-f6cdb92bef3d","da1ce910-e5d3-321e-95bb-24529f1c74d7","5032d904-24ca-31b1-a08d-dea6a36ea4f9","25b189de-dcbf-3c64-bf8d-218c7e77d7f3","9c2f2dd9-1e8a-32c7-8a89-2864996bb515"],"operator":"or"},{"class":"ConditionDefinition","id":"5d9208da-b746-4b0d-b741-b6eabc66e71c","name":"Any SCIM or OpenBanking Request","condition":"bc3f2986-053d-3614-8208-9cad1a39447f","properties":{}},{"class":"ConditionReferenceNode","id":"da6d2591-8626-37ee-ae63-fd4e0a00a5ed","definitionId":"5d9208da-b746-4b0d-b741-b6eabc66e71c"},{"class":"BooleanLogicNode","id":"62841d6b-4b60-34df-b3bf-305fb9d4f288","inputNodes":["36e18bf2-13bc-3ae4-ad1a-9c65d9fbb215","da6d2591-8626-37ee-ae63-fd4e0a00a5ed"],"operator":"or"},{"class":"BooleanLogicNode","id":"c76c9b72-a90e-3d24-ac07-d6bfd7dc3e4a","inputNodes":["d8c2cda2-2e69-33c2-9680-afd1fdffdee7","62841d6b-4b60-34df-b3bf-305fb9d4f288"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","name":"Access token is inactive","properties":{},"disabled":false},{"class":"DecisionNode","id":"c476df05-12c7-3d7a-8de7-fe364f3fdcb1","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","effect":"DENY","inputNode":"c76c9b72-a90e-3d24-ac07-d6bfd7dc3e4a"},{"class":"StatementNode","id":"9f3a2bf5-6225-3725-912f-4aac1cb7d85a","inputNode":"c476df05-12c7-3d7a-8de7-fe364f3fdcb1","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","statements":[]},{"class":"TargetMatchNode","id":"29ad80d8-f3be-3c6e-86e7-b7725cc1b7b4","inputNode":"9f3a2bf5-6225-3725-912f-4aac1cb7d85a","metadataId":"f9604cb4-315d-47eb-9e76-4d8c7534bb41","targets":[]},{"class":"Metadata","originType":"Policy","originId":"69d82f74-5561-4f91-b238-0f8bbac97532","name":"Token Validation","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"646ba476-5df7-3ebf-8092-bbbc4e95349a","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["29ad80d8-f3be-3c6e-86e7-b7725cc1b7b4"],"inputNodeWeights":[100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"69d82f74-5561-4f91-b238-0f8bbac97532"},{"class":"StatementTemplate","id":"cde26a38-2035-4385-bbfe-159ee1822976","name":"Invalid Token","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"status\":401, \"message\": \"invalid_token\", \"detail\":\"Access token is expired or otherwise invalid\"}"}]},"obligatory":true,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"d7aeda8d-8599-3e8c-b874-9a2102be305c","inputNode":"646ba476-5df7-3ebf-8092-bbbc4e95349a","metadataId":"69d82f74-5561-4f91-b238-0f8bbac97532","statements":["cde26a38-2035-4385-bbfe-159ee1822976"]},{"class":"TargetMatchNode","id":"296b80e0-3967-3376-ab6a-49521b0bc76e","inputNode":"d7aeda8d-8599-3e8c-b874-9a2102be305c","metadataId":"69d82f74-5561-4f91-b238-0f8bbac97532","targets":[]},{"class":"AttributeDefinition","id":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49","name":"HttpRequest.AccessToken.scope","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"scope"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"5598fb7f-e135-3d84-8aeb-b59e12ea1d9c","attributeDefinitionId":"447bf9bf-0cf0-4b62-9b55-58fc9f606f49"},{"class":"ConstantNode","id":"e3f58755-7ec4-363e-9d88-17f59cfe36ba","constant":"urn:pingdatagovernance:pdp"},{"class":"ComparisonNode","id":"da604051-cd62-3cc7-9448-222ad8f2f2af","lhsInputNode":"5598fb7f-e135-3d84-8aeb-b59e12ea1d9c","rhsInputNode":"e3f58755-7ec4-363e-9d88-17f59cfe36ba","operator":"NOT_CONTAINS"},{"class":"BooleanLogicNode","id":"8e339447-9124-3598-a458-467e3e7993c4","inputNodes":["da604051-cd62-3cc7-9448-222ad8f2f2af"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","name":"Token does not contain PDP scope","properties":{},"disabled":false},{"class":"DecisionNode","id":"70395307-b6cf-3e87-8acd-31d91748d613","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","effect":"DENY","inputNode":"8e339447-9124-3598-a458-467e3e7993c4"},{"class":"StatementNode","id":"901f4509-90ef-3eaf-8c4e-9b7b9c54d3f9","inputNode":"70395307-b6cf-3e87-8acd-31d91748d613","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","statements":[]},{"class":"TargetMatchNode","id":"d3d2bbca-92e8-39d9-9fa4-8b6b882b3b1d","inputNode":"901f4509-90ef-3eaf-8c4e-9b7b9c54d3f9","metadataId":"5230e2e9-cf6a-4b38-88cd-c40ac56bb2d9","targets":[]},{"class":"Metadata","originType":"Policy","originId":"e792b7ec-331d-422e-8aec-d5ff589889aa","name":"Token Authorization","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"da5dce38-e1eb-330d-8fe2-3066f2582ebd","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["d3d2bbca-92e8-39d9-9fa4-8b6b882b3b1d"],"inputNodeWeights":[100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"e792b7ec-331d-422e-8aec-d5ff589889aa"},{"class":"StatementNode","id":"95f979af-b632-3521-950e-5afbd3f13cbe","inputNode":"da5dce38-e1eb-330d-8fe2-3066f2582ebd","metadataId":"e792b7ec-331d-422e-8aec-d5ff589889aa","statements":["cde26a38-2035-4385-bbfe-159ee1822976"]},{"class":"Target","id":"ba86bc60-6ae8-4e14-a4b7-ba6c5e3a463f","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["authorize"]},{"class":"TargetMatchNode","id":"0a1d58b3-2687-3149-92cc-f028edd71e0f","inputNode":"95f979af-b632-3521-950e-5afbd3f13cbe","metadataId":"e792b7ec-331d-422e-8aec-d5ff589889aa","targets":["ba86bc60-6ae8-4e14-a4b7-ba6c5e3a463f"]},{"class":"Metadata","originType":"PolicySet","originId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","name":"PDP API Endpoint Policies","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"a8bfa208-3ab4-3440-ad17-31157ea3f0dd","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["0a1d58b3-2687-3149-92cc-f028edd71e0f"],"inputNodeWeights":[100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5"},{"class":"StatementNode","id":"9ba09f0d-d234-38c4-ad78-87436ca77066","inputNode":"a8bfa208-3ab4-3440-ad17-31157ea3f0dd","metadataId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","statements":[]},{"class":"Target","id":"e41403c2-589e-4981-a088-3e004aef4d59","name":"Inline target","domains":[],"services":["PDP"],"identityClassIds":[],"actions":[]},{"class":"TargetMatchNode","id":"3c6477ad-d041-30af-a837-c4d2b90a4733","inputNode":"9ba09f0d-d234-38c4-ad78-87436ca77066","metadataId":"3e80f4b0-ae1d-48e6-bdab-74c0fe06e6d5","targets":["e41403c2-589e-4981-a088-3e004aef4d59"]},{"class":"AttributeDefinition","id":"4e210505-eb7a-428b-b948-1d7e9538ca34","name":"HttpRequest.RequestBody","resolvers":[{"class":"request","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{}},{"class":"AttributeDefinition","id":"487cdfba-3804-412d-a1fc-0037e0b08e22","name":"HttpRequest.RequestBody.audit","resolvers":[{"class":"attribute","attributeDefinitionId":"4e210505-eb7a-428b-b948-1d7e9538ca34","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.audit"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{}},{"class":"AttributeNode","id":"9f056251-1188-3675-b72d-b0bc51cd1ad1","attributeDefinitionId":"487cdfba-3804-412d-a1fc-0037e0b08e22"},{"class":"ConstantNode","id":"adb895fa-e09b-3529-abc8-3326d3f78ba2","constant":"_null"},{"class":"ComparisonNode","id":"9ee899cd-27a6-3319-8d18-8ef4af0e55a8","lhsInputNode":"9f056251-1188-3675-b72d-b0bc51cd1ad1","rhsInputNode":"adb895fa-e09b-3529-abc8-3326d3f78ba2","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"628de683-c1f1-34f3-b101-31e4e97ec751","inputNodes":["9ee899cd-27a6-3319-8d18-8ef4af0e55a8"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"6517d245-af0f-43ab-9b6e-6f1b068f52ab","name":"Request has audit property","properties":{},"disabled":false},{"class":"DecisionNode","id":"74f7fcd5-c11c-31da-a514-ba2d12c79f3f","metadataId":"6517d245-af0f-43ab-9b6e-6f1b068f52ab","effect":"PERMIT","inputNode":"628de683-c1f1-34f3-b101-31e4e97ec751"},{"class":"StatementNode","id":"b42ef070-f090-39f3-85a0-831b30b04839","inputNode":"74f7fcd5-c11c-31da-a514-ba2d12c79f3f","metadataId":"6517d245-af0f-43ab-9b6e-6f1b068f52ab","statements":[]},{"class":"TargetMatchNode","id":"39b4527c-ee90-3dbc-b4bf-f63e10c790bc","inputNode":"b42ef070-f090-39f3-85a0-831b30b04839","metadataId":"6517d245-af0f-43ab-9b6e-6f1b068f52ab","targets":[]},{"class":"Metadata","originType":"Policy","originId":"9bf2c686-52c2-4782-9f35-528d6a620be6","name":"Modifications require audit data in the request body","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"dd0ea856-a2df-3cfc-b313-c2c6d2d876d5","combiningAlgorithm":{"name":"DenyUnlessPermit"},"inputNodes":["39b4527c-ee90-3dbc-b4bf-f63e10c790bc"],"inputNodeWeights":[100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"9bf2c686-52c2-4782-9f35-528d6a620be6"},{"class":"StatementTemplate","id":"42b6ca99-f3e6-4202-b8f4-b0e32619ae96","name":"Remove audit property","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"exclude-attributes"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"[\"audit\"]"}]},"obligatory":false,"appliesTo":"PERMIT","attributes":{},"services":{}},{"class":"StatementTemplate","id":"20952d24-0e1c-48a5-bc05-e77cb5ec67b6","name":"Denied reason","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"Modification request is missing audit information.\"}"}]},"obligatory":false,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"aa372203-78bd-3557-8591-52d3e3075c50","inputNode":"dd0ea856-a2df-3cfc-b313-c2c6d2d876d5","metadataId":"9bf2c686-52c2-4782-9f35-528d6a620be6","statements":["42b6ca99-f3e6-4202-b8f4-b0e32619ae96","20952d24-0e1c-48a5-bc05-e77cb5ec67b6"]},{"class":"Target","id":"ee067bae-ffbe-4de2-908f-3ef869e2a82a","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["inbound-DELETE","inbound-PATCH","inbound-POST","inbound-PUT"]},{"class":"TargetMatchNode","id":"716cfd26-e4d1-37a0-a759-003bb43067d8","inputNode":"aa372203-78bd-3557-8591-52d3e3075c50","metadataId":"9bf2c686-52c2-4782-9f35-528d6a620be6","targets":["ee067bae-ffbe-4de2-908f-3ef869e2a82a"]},{"class":"AttributeDefinition","id":"f6f0e407-f383-4e32-9d36-e5c5f822b853","name":"HttpRequest.RequestHeaders","resolvers":[{"class":"request","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{}},{"class":"AttributeDefinition","id":"7eed694f-5cda-4140-a24a-c18108fa5bc8","name":"HttpRequest.RequestHeaders._CaseSensitive.X-App-Id","resolvers":[{"class":"attribute","attributeDefinitionId":"f6f0e407-f383-4e32-9d36-e5c5f822b853","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['X-App-Id']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"91652ba2-eece-37cc-bcef-32c7c0c8b2c4","attributeDefinitionId":"7eed694f-5cda-4140-a24a-c18108fa5bc8"},{"class":"ConstantNode","id":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","constant":"[]"},{"class":"ComparisonNode","id":"444cf93a-c32d-3806-9f7f-5a7106aa3fe5","lhsInputNode":"91652ba2-eece-37cc-bcef-32c7c0c8b2c4","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"ee3ca5d2-dfbd-3f14-ae5f-88538e11b766","inputNodes":["444cf93a-c32d-3806-9f7f-5a7106aa3fe5"],"operator":"and"},{"class":"AttributeDefinition","id":"75647ada-6532-4abe-b1e4-d54ff91d7e8b","name":"HttpRequest.RequestHeaders._CaseSensitive.X-APP-ID","resolvers":[{"class":"attribute","attributeDefinitionId":"f6f0e407-f383-4e32-9d36-e5c5f822b853","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['X-APP-ID']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"6343d6c8-2913-3e49-b8a6-c9162571ef8a","attributeDefinitionId":"75647ada-6532-4abe-b1e4-d54ff91d7e8b"},{"class":"ComparisonNode","id":"0b6a4097-f6a0-3a5d-87ce-50cd6f6d5848","lhsInputNode":"6343d6c8-2913-3e49-b8a6-c9162571ef8a","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"debbbc64-08a4-3749-be68-cfb5b560c5d3","inputNodes":["0b6a4097-f6a0-3a5d-87ce-50cd6f6d5848"],"operator":"and"},{"class":"AttributeDefinition","id":"0a5977c7-485c-422a-af95-55bf9609415f","name":"HttpRequest.RequestHeaders._CaseSensitive.x-app-id","resolvers":[{"class":"attribute","attributeDefinitionId":"f6f0e407-f383-4e32-9d36-e5c5f822b853","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['x-app-id']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"bfa3fab2-a31c-344c-b416-ff36f60cbfb9","attributeDefinitionId":"0a5977c7-485c-422a-af95-55bf9609415f"},{"class":"ComparisonNode","id":"fb2723a9-d03f-35ad-9a99-67fc9045320c","lhsInputNode":"bfa3fab2-a31c-344c-b416-ff36f60cbfb9","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"b5d8f688-4f28-3a8d-ab54-7cbaacceb902","inputNodes":["fb2723a9-d03f-35ad-9a99-67fc9045320c"],"operator":"and"},{"class":"AttributeDefinition","id":"f91eed71-7d70-48d9-8c5d-29f1a9b2433c","name":"HttpRequest.RequestHeaders.X-App-Id","resolvers":[{"class":"attribute","attributeDefinitionId":"7eed694f-5cda-4140-a24a-c18108fa5bc8","condition":"ee3ca5d2-dfbd-3f14-ae5f-88538e11b766","expression":null},{"class":"attribute","attributeDefinitionId":"75647ada-6532-4abe-b1e4-d54ff91d7e8b","condition":"debbbc64-08a4-3749-be68-cfb5b560c5d3","expression":null},{"class":"attribute","attributeDefinitionId":"0a5977c7-485c-422a-af95-55bf9609415f","condition":"b5d8f688-4f28-3a8d-ab54-7cbaacceb902","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":"7f2c844e-4d21-4b88-85fa-3daac793cf3c","name":"Filter empty strings","valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$[?(@ != '')]"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"c7c7794b-a81e-3bc2-9117-cd8608bab85b","attributeDefinitionId":"f91eed71-7d70-48d9-8c5d-29f1a9b2433c"},{"class":"ConstantNode","id":"b73b85e0-fb10-302d-a86b-1cc40a403c9a","constant":"BAN"},{"class":"ComparisonNode","id":"2150bf8c-b57b-353a-91d0-87f19b2d003b","lhsInputNode":"c7c7794b-a81e-3bc2-9117-cd8608bab85b","rhsInputNode":"b73b85e0-fb10-302d-a86b-1cc40a403c9a","operator":"CONTAINS"},{"class":"BooleanLogicNode","id":"56713a84-3c4d-3bb0-b08e-e14f70680f0a","inputNodes":["2150bf8c-b57b-353a-91d0-87f19b2d003b"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"45b59f0b-cf6b-4466-8d2d-457b1e9c1a73","name":"X-App-Id contains \"BAN\"","properties":{},"disabled":false},{"class":"DecisionNode","id":"53de8126-367a-34b2-952d-e445f516a16f","metadataId":"45b59f0b-cf6b-4466-8d2d-457b1e9c1a73","effect":"PERMIT","inputNode":"56713a84-3c4d-3bb0-b08e-e14f70680f0a"},{"class":"StatementNode","id":"bcffc16f-b3c7-3adb-b343-94d2ddb2034f","inputNode":"53de8126-367a-34b2-952d-e445f516a16f","metadataId":"45b59f0b-cf6b-4466-8d2d-457b1e9c1a73","statements":[]},{"class":"TargetMatchNode","id":"0e464624-4f55-339d-b86e-c4814280e020","inputNode":"bcffc16f-b3c7-3adb-b343-94d2ddb2034f","metadataId":"45b59f0b-cf6b-4466-8d2d-457b1e9c1a73","targets":[]},{"class":"ComparisonNode","id":"503db210-90c2-38b5-99eb-58b8366a9d29","lhsInputNode":"c7c7794b-a81e-3bc2-9117-cd8608bab85b","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"ed20ca8e-e733-3ffd-a562-c0cd69bc36c2","inputNodes":["503db210-90c2-38b5-99eb-58b8366a9d29"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"fd19a585-8cc9-423e-a883-4fe593daa990","name":"X-App-Id is present","properties":{},"disabled":false},{"class":"DecisionNode","id":"e3beb033-b53f-3d44-8baf-8fceb68b6c27","metadataId":"fd19a585-8cc9-423e-a883-4fe593daa990","effect":"PERMIT","inputNode":"ed20ca8e-e733-3ffd-a562-c0cd69bc36c2"},{"class":"StatementTemplate","id":"f57072a7-9fb1-4e0b-b0db-25a5e7423261","name":"Remove X-App-Id","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"X-App-Id\": null, \"x-app-id\": null, \"X-APP-ID\": null}"}]},"obligatory":false,"appliesTo":"PERMIT","attributes":{},"services":{}},{"class":"StatementNode","id":"46e781ba-81a5-3f37-81db-ce1aa962cb0a","inputNode":"e3beb033-b53f-3d44-8baf-8fceb68b6c27","metadataId":"fd19a585-8cc9-423e-a883-4fe593daa990","statements":["f57072a7-9fb1-4e0b-b0db-25a5e7423261"]},{"class":"TargetMatchNode","id":"b598c72a-7fb0-3cae-a451-f87a414baa31","inputNode":"46e781ba-81a5-3f37-81db-ce1aa962cb0a","metadataId":"fd19a585-8cc9-423e-a883-4fe593daa990","targets":[]},{"class":"Metadata","originType":"Policy","originId":"9f2fbe65-d4ed-43e6-8326-25ec0e9d3439","name":"All inbound requests require X-App-Id header","properties":{},"disabled":false},{"class":"BooleanLogicNode","id":"09e803eb-c62f-3d3d-b606-8374edbff675","inputNodes":["36e18bf2-13bc-3ae4-ad1a-9c65d9fbb215"],"operator":"and"},{"class":"CombinedDecisionNode","id":"10426936-a841-3d6e-97c4-3d571df8262a","combiningAlgorithm":{"name":"DenyUnlessPermit"},"inputNodes":["0e464624-4f55-339d-b86e-c4814280e020","b598c72a-7fb0-3cae-a451-f87a414baa31"],"inputNodeWeights":[100,100],"guardNode":"09e803eb-c62f-3d3d-b606-8374edbff675","originLink":"9f2fbe65-d4ed-43e6-8326-25ec0e9d3439"},{"class":"StatementTemplate","id":"9b52be57-9808-4bba-9b3b-c5408dae9bea","name":"Denied reason","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"Request is missing X-App-Id\"}"}]},"obligatory":false,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"33c10c97-502b-3d2e-bdf0-736265fb4718","inputNode":"10426936-a841-3d6e-97c4-3d571df8262a","metadataId":"9f2fbe65-d4ed-43e6-8326-25ec0e9d3439","statements":["9b52be57-9808-4bba-9b3b-c5408dae9bea"]},{"class":"TargetMatchNode","id":"568e861d-1ca3-3585-89f8-e6be349be859","inputNode":"33c10c97-502b-3d2e-bdf0-736265fb4718","metadataId":"9f2fbe65-d4ed-43e6-8326-25ec0e9d3439","targets":[]},{"class":"AttributeDefinition","id":"2139c312-6f7d-49ff-8d00-c48231ed8f19","name":"HttpRequest.ResponseBody","resolvers":[{"class":"request","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"{}","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{}},{"class":"AttributeDefinition","id":"7eb674e5-caaa-4b91-a2ba-a425a2761df1","name":"HttpRequest.ResponseBody.Control.callsRemaining","resolvers":[{"class":"attribute","attributeDefinitionId":"2139c312-6f7d-49ff-8d00-c48231ed8f19","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"-1","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"NUMBER","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.callsRemaining"}]}},{"type":"coerce","valueType":"NUMBER"}]},"properties":{}},{"class":"AttributeNode","id":"ac3c88eb-8ed8-3b68-a641-22b3d0a12972","attributeDefinitionId":"7eb674e5-caaa-4b91-a2ba-a425a2761df1"},{"class":"ConstantNode","id":"943c3733-5335-31fc-8a77-0095de2d82e0","constant":"0"},{"class":"ComparisonNode","id":"40ed5c6e-00a4-3dfe-8045-7ea180d13b67","lhsInputNode":"ac3c88eb-8ed8-3b68-a641-22b3d0a12972","rhsInputNode":"943c3733-5335-31fc-8a77-0095de2d82e0","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"50b91e69-9dfc-3122-adbb-53289c9e8df9","inputNodes":["40ed5c6e-00a4-3dfe-8045-7ea180d13b67"],"operator":"or"},{"class":"Metadata","originType":"Rule","originId":"21545fdf-ae6c-47d3-806d-cb4a6329e493","name":"callsRemaining is not zero","properties":{},"disabled":false},{"class":"DecisionNode","id":"974e36a9-93f5-34fa-94b0-5897f17f0af9","metadataId":"21545fdf-ae6c-47d3-806d-cb4a6329e493","effect":"PERMIT","inputNode":"50b91e69-9dfc-3122-adbb-53289c9e8df9"},{"class":"StatementNode","id":"fc0d3c87-ce5f-3389-b71c-561b06025790","inputNode":"974e36a9-93f5-34fa-94b0-5897f17f0af9","metadataId":"21545fdf-ae6c-47d3-806d-cb4a6329e493","statements":[]},{"class":"TargetMatchNode","id":"ff232edb-61ab-3c9a-8c0a-88ceeb8a4c5b","inputNode":"fc0d3c87-ce5f-3389-b71c-561b06025790","metadataId":"21545fdf-ae6c-47d3-806d-cb4a6329e493","targets":[]},{"class":"Metadata","originType":"Policy","originId":"751b5c45-b817-4b6f-84de-319d75003676","name":"Control changes must not exceed daily limit","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"1ed94f8c-3d6b-3158-b70c-42dc25dcef43","combiningAlgorithm":{"name":"DenyUnlessPermit"},"inputNodes":["ff232edb-61ab-3c9a-8c0a-88ceeb8a4c5b"],"inputNodeWeights":[100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"751b5c45-b817-4b6f-84de-319d75003676"},{"class":"StatementTemplate","id":"e1c4cc06-655f-4220-b8c5-dc50eb0ec9e9","name":"Denied reason","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 402, \"message\": \"error_code\", \"detail\":\"Control has reached daily limit.\"}"}]},"obligatory":false,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"68c0fbd5-082a-3aad-8f79-ca3393c085ff","inputNode":"1ed94f8c-3d6b-3158-b70c-42dc25dcef43","metadataId":"751b5c45-b817-4b6f-84de-319d75003676","statements":["e1c4cc06-655f-4220-b8c5-dc50eb0ec9e9"]},{"class":"Target","id":"7604a9f4-bf6e-4a40-8ce8-619bc8031c78","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["outbound-PATCH"]},{"class":"TargetMatchNode","id":"af92c357-28eb-30f4-928d-0389b42766cc","inputNode":"68c0fbd5-082a-3aad-8f79-ca3393c085ff","metadataId":"751b5c45-b817-4b6f-84de-319d75003676","targets":["7604a9f4-bf6e-4a40-8ce8-619bc8031c78"]},{"class":"AttributeDefinition","id":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","name":"HttpRequest.ResponseHeaders","resolvers":[{"class":"request","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{}},{"class":"AttributeDefinition","id":"fecc44d7-a8a0-48b6-a490-2332fbb6d2f6","name":"HttpRequest.ResponseHeaders._CaseSensitive.x-powered-by","resolvers":[{"class":"attribute","attributeDefinitionId":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['x-powered-by']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"33e7181e-1eb3-3cb2-825d-7ce4a322bca7","attributeDefinitionId":"fecc44d7-a8a0-48b6-a490-2332fbb6d2f6"},{"class":"ComparisonNode","id":"204c8a9c-7c09-3c36-b1d9-6329c1cd9671","lhsInputNode":"33e7181e-1eb3-3cb2-825d-7ce4a322bca7","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"e6009789-fafd-38ce-9a3f-31debf817268","inputNodes":["204c8a9c-7c09-3c36-b1d9-6329c1cd9671"],"operator":"and"},{"class":"AttributeDefinition","id":"883204cf-03e8-4318-9bfe-8d4f95cffc9b","name":"HttpRequest.ResponseHeaders._CaseSensitive.X-POWERED-BY","resolvers":[{"class":"attribute","attributeDefinitionId":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['X-POWERED-BY']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"57af8fe2-e244-36d3-945d-d48b8faafec9","attributeDefinitionId":"883204cf-03e8-4318-9bfe-8d4f95cffc9b"},{"class":"ComparisonNode","id":"db0a8ca8-8da2-3c6a-aee4-df26b2fbd9d8","lhsInputNode":"57af8fe2-e244-36d3-945d-d48b8faafec9","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"26654bbe-53cc-3b97-9c93-decd87df21f4","inputNodes":["db0a8ca8-8da2-3c6a-aee4-df26b2fbd9d8"],"operator":"and"},{"class":"AttributeDefinition","id":"1e18b1bd-4474-4b90-89f4-602e4abaa2ad","name":"HttpRequest.ResponseHeaders._CaseSensitive.X-Powered-By","resolvers":[{"class":"attribute","attributeDefinitionId":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['X-Powered-By']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"81c703d0-d24c-304c-b68f-4116fc56f3eb","attributeDefinitionId":"1e18b1bd-4474-4b90-89f4-602e4abaa2ad"},{"class":"ComparisonNode","id":"6102765a-191e-3a55-a74a-e6edac0dbe98","lhsInputNode":"81c703d0-d24c-304c-b68f-4116fc56f3eb","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"34f89682-055b-3591-a4fb-e16f150fb65c","inputNodes":["6102765a-191e-3a55-a74a-e6edac0dbe98"],"operator":"and"},{"class":"AttributeDefinition","id":"5d21192e-09c2-43a8-955c-a5b4fa795e42","name":"HttpRequest.ResponseHeaders.X-Powered-By","resolvers":[{"class":"attribute","attributeDefinitionId":"fecc44d7-a8a0-48b6-a490-2332fbb6d2f6","condition":"e6009789-fafd-38ce-9a3f-31debf817268","expression":null},{"class":"attribute","attributeDefinitionId":"883204cf-03e8-4318-9bfe-8d4f95cffc9b","condition":"26654bbe-53cc-3b97-9c93-decd87df21f4","expression":null},{"class":"attribute","attributeDefinitionId":"1e18b1bd-4474-4b90-89f4-602e4abaa2ad","condition":"34f89682-055b-3591-a4fb-e16f150fb65c","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":"7f2c844e-4d21-4b88-85fa-3daac793cf3c","name":"Filter empty strings","valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$[?(@ != '')]"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"c71befb6-585c-35be-b419-10b3f801da2b","attributeDefinitionId":"5d21192e-09c2-43a8-955c-a5b4fa795e42"},{"class":"ConstantNode","id":"1e9d065a-dcfb-391c-901f-897af5e503d1","constant":"SmartHub Server Supreme"},{"class":"ComparisonNode","id":"799a21db-5c5f-343e-849d-08f11a6e1980","lhsInputNode":"c71befb6-585c-35be-b419-10b3f801da2b","rhsInputNode":"1e9d065a-dcfb-391c-901f-897af5e503d1","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"23f37e74-bf5d-3752-bfba-7ad37820f1df","inputNodes":["799a21db-5c5f-343e-849d-08f11a6e1980"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"7e0cf50b-fd4e-4dad-977a-37e581a84cba","name":"X-Powered-By is \"SmartHub Server Supreme\"","properties":{},"disabled":false},{"class":"DecisionNode","id":"d11a7f5b-180c-3619-ad9c-a3bbd2982048","metadataId":"7e0cf50b-fd4e-4dad-977a-37e581a84cba","effect":"PERMIT","inputNode":"23f37e74-bf5d-3752-bfba-7ad37820f1df"},{"class":"StatementNode","id":"cf7e0197-f215-344d-ab1d-7141f7dea466","inputNode":"d11a7f5b-180c-3619-ad9c-a3bbd2982048","metadataId":"7e0cf50b-fd4e-4dad-977a-37e581a84cba","statements":[]},{"class":"TargetMatchNode","id":"e1341c50-cd5f-31e4-8357-e13c73a9ae7c","inputNode":"cf7e0197-f215-344d-ab1d-7141f7dea466","metadataId":"7e0cf50b-fd4e-4dad-977a-37e581a84cba","targets":[]},{"class":"Metadata","originType":"Policy","originId":"3a33e562-53b2-41a0-8ad2-1d6ac952aba2","name":"Outbound responses must come from \"SmartHub Server Supreme\"","properties":{},"disabled":false},{"class":"ConstantNode","id":"52883594-4cd2-3d72-8719-3e46dda800af","constant":"outbound-DELETE"},{"class":"ComparisonNode","id":"b38ce61c-82da-3764-843a-c85d53e5ee2e","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"52883594-4cd2-3d72-8719-3e46dda800af","operator":"EQUALS"},{"class":"ConstantNode","id":"94712e73-89cf-3bc9-8550-fcae6fbf33f7","constant":"outbound-GET"},{"class":"ComparisonNode","id":"1d83c19a-52c3-3447-9b46-e18ec18df6c8","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"94712e73-89cf-3bc9-8550-fcae6fbf33f7","operator":"EQUALS"},{"class":"ConstantNode","id":"537ab0ad-ebe8-3a21-80d3-59172c34b1ee","constant":"outbound-PATCH"},{"class":"ComparisonNode","id":"6258cf56-bc91-32dc-843c-0f35f0df5bfd","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"537ab0ad-ebe8-3a21-80d3-59172c34b1ee","operator":"EQUALS"},{"class":"ConstantNode","id":"03c1a7a4-7248-3909-8c04-21a2d1e58ea0","constant":"outbound-POST"},{"class":"ComparisonNode","id":"1d500f9b-bef9-32c5-9eff-8e5928e29d30","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"03c1a7a4-7248-3909-8c04-21a2d1e58ea0","operator":"EQUALS"},{"class":"ConstantNode","id":"85fb2444-7b96-3376-a483-0a0a36a7d75a","constant":"outbound-PUT"},{"class":"ComparisonNode","id":"7b838fae-a2d7-32bf-b38f-0aa7be2f802d","lhsInputNode":"7545ec80-a6cc-374a-aac0-7249b28deb71","rhsInputNode":"85fb2444-7b96-3376-a483-0a0a36a7d75a","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"45a118eb-a093-39b6-8f8b-cf6f041c2436","inputNodes":["b38ce61c-82da-3764-843a-c85d53e5ee2e","1d83c19a-52c3-3447-9b46-e18ec18df6c8","6258cf56-bc91-32dc-843c-0f35f0df5bfd","1d500f9b-bef9-32c5-9eff-8e5928e29d30","7b838fae-a2d7-32bf-b38f-0aa7be2f802d"],"operator":"or"},{"class":"ConditionDefinition","id":"3ca55ccd-cf36-4e24-be42-5eb4d54e6466","name":"Any Outbound Request","condition":"45a118eb-a093-39b6-8f8b-cf6f041c2436","properties":{}},{"class":"ConditionReferenceNode","id":"42d1e730-8e90-3759-8cb7-0959f002517a","definitionId":"3ca55ccd-cf36-4e24-be42-5eb4d54e6466"},{"class":"BooleanLogicNode","id":"19ef2f4b-95f4-3d32-83b5-a09871d1e98e","inputNodes":["42d1e730-8e90-3759-8cb7-0959f002517a"],"operator":"and"},{"class":"CombinedDecisionNode","id":"af35f8e7-7287-3e8d-8191-691fda8a43ec","combiningAlgorithm":{"name":"DenyUnlessPermit"},"inputNodes":["e1341c50-cd5f-31e4-8357-e13c73a9ae7c"],"inputNodeWeights":[100],"guardNode":"19ef2f4b-95f4-3d32-83b5-a09871d1e98e","originLink":"3a33e562-53b2-41a0-8ad2-1d6ac952aba2"},{"class":"StatementTemplate","id":"6fcb3f06-aa6f-4e6b-a76c-4ae79f9b5953","name":"Remove X-Powered-By header","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"X-Powered-By\": null, \"X-POWERED-BY\": null, \"x-powered-by\": null}"}]},"obligatory":false,"appliesTo":"PERMIT","attributes":{},"services":{}},{"class":"StatementNode","id":"ce456fd8-c7f5-3252-8a20-21fa383c3ae4","inputNode":"af35f8e7-7287-3e8d-8191-691fda8a43ec","metadataId":"3a33e562-53b2-41a0-8ad2-1d6ac952aba2","statements":["6fcb3f06-aa6f-4e6b-a76c-4ae79f9b5953"]},{"class":"TargetMatchNode","id":"e739e395-64a6-3fa5-9c1b-dcca3d00839a","inputNode":"ce456fd8-c7f5-3252-8a20-21fa383c3ae4","metadataId":"3a33e562-53b2-41a0-8ad2-1d6ac952aba2","targets":[]},{"class":"AttributeDefinition","id":"b38cbada-ab81-4990-8f43-73131354178f","name":"HttpRequest.ResponseHeaders._CaseSensitive.X-Banned-Users","resolvers":[{"class":"attribute","attributeDefinitionId":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['X-Banned-Users']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"d057627e-fcae-39f2-bcd4-2c7bf71aaa7f","attributeDefinitionId":"b38cbada-ab81-4990-8f43-73131354178f"},{"class":"ComparisonNode","id":"f4a561f0-82cf-3020-9c12-89544c5aac16","lhsInputNode":"d057627e-fcae-39f2-bcd4-2c7bf71aaa7f","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"5fa91f78-f140-3846-978b-7e513fc9ee90","inputNodes":["f4a561f0-82cf-3020-9c12-89544c5aac16"],"operator":"and"},{"class":"AttributeDefinition","id":"89153ad2-b945-48bc-baee-d16ca7c1b44b","name":"HttpRequest.ResponseHeaders._CaseSensitive.X-BANNED-USERS","resolvers":[{"class":"attribute","attributeDefinitionId":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['X-BANNED-USERS']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"30fafdb5-6d3e-3ebd-8b45-7245c0b651f8","attributeDefinitionId":"89153ad2-b945-48bc-baee-d16ca7c1b44b"},{"class":"ComparisonNode","id":"8ebfb997-42e0-3a9a-b383-6b14287f26ea","lhsInputNode":"30fafdb5-6d3e-3ebd-8b45-7245c0b651f8","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"6d7dba33-5902-39df-a50b-f1eb1859cba4","inputNodes":["8ebfb997-42e0-3a9a-b383-6b14287f26ea"],"operator":"and"},{"class":"AttributeDefinition","id":"46f6203a-d87f-4502-8730-42bf139285d2","name":"HttpRequest.ResponseHeaders._CaseSensitive.x-banned-users","resolvers":[{"class":"attribute","attributeDefinitionId":"34b6d4a1-e25f-4c68-a36c-d0a3010e20dc","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$['x-banned-users']"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"646089d7-d894-3410-bee2-d8c6578ba924","attributeDefinitionId":"46f6203a-d87f-4502-8730-42bf139285d2"},{"class":"ComparisonNode","id":"b93d264d-baf1-3586-986a-52a0db6acdd1","lhsInputNode":"646089d7-d894-3410-bee2-d8c6578ba924","rhsInputNode":"87e6bb98-1de5-31b7-ad6e-c8548df0bb1a","operator":"NOT_EQUALS"},{"class":"BooleanLogicNode","id":"57017945-71b2-3645-a70c-32b4547285c8","inputNodes":["b93d264d-baf1-3586-986a-52a0db6acdd1"],"operator":"and"},{"class":"AttributeDefinition","id":"6999e670-dd7e-4927-b20d-1bdba58f2579","name":"HttpRequest.ResponseHeaders.X-Banned-Users","resolvers":[{"class":"attribute","attributeDefinitionId":"b38cbada-ab81-4990-8f43-73131354178f","condition":"5fa91f78-f140-3846-978b-7e513fc9ee90","expression":null},{"class":"attribute","attributeDefinitionId":"89153ad2-b945-48bc-baee-d16ca7c1b44b","condition":"6d7dba33-5902-39df-a50b-f1eb1859cba4","expression":null},{"class":"attribute","attributeDefinitionId":"46f6203a-d87f-4502-8730-42bf139285d2","condition":"57017945-71b2-3645-a70c-32b4547285c8","expression":null}],"defaultValue":"[]","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":"7f2c844e-4d21-4b88-85fa-3daac793cf3c","name":"Filter empty strings","valueType":"COLLECTION","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$[?(@ != '')]"}]}},{"type":"coerce","valueType":"COLLECTION"}]},"properties":{}},{"class":"AttributeNode","id":"a2ce0d65-f873-3486-87e5-16132aa255b8","attributeDefinitionId":"6999e670-dd7e-4927-b20d-1bdba58f2579"},{"class":"AttributeDefinition","id":"3577dd53-a71a-4ce8-ab40-c9c083c7c5b9","name":"TokenOwner","resolvers":[{"class":"request","condition":null,"expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{}},{"class":"AttributeDefinition","id":"e3d9200c-e09f-4bf3-b162-261a3523b69d","name":"TokenOwner.username","resolvers":[{"class":"attribute","attributeDefinitionId":"3577dd53-a71a-4ce8-ab40-c9c083c7c5b9","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.username"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{}},{"class":"AttributeNode","id":"506295f7-f845-3053-af51-77c78cfbe2fa","attributeDefinitionId":"e3d9200c-e09f-4bf3-b162-261a3523b69d"},{"class":"ComparisonNode","id":"84e32424-4d8a-392f-a8d4-d687544823e5","lhsInputNode":"a2ce0d65-f873-3486-87e5-16132aa255b8","rhsInputNode":"506295f7-f845-3053-af51-77c78cfbe2fa","operator":"CONTAINS"},{"class":"BooleanLogicNode","id":"10b76c4d-e931-331f-a182-e2b872a9e86f","inputNodes":["84e32424-4d8a-392f-a8d4-d687544823e5"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"a5f147e3-cb60-4170-87ca-32985030f6a7","name":"Banned user list contains token owner username","properties":{},"disabled":false},{"class":"DecisionNode","id":"41aa73b3-8218-3a79-9360-84729cd023d2","metadataId":"a5f147e3-cb60-4170-87ca-32985030f6a7","effect":"DENY","inputNode":"10b76c4d-e931-331f-a182-e2b872a9e86f"},{"class":"StatementTemplate","id":"86fa62de-5645-43c3-a26f-83aa6812a9c7","name":"Denied reason","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"You are banned (X-Banned-Users).\"}"}]},"obligatory":false,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"338d7ec6-3bff-3fc7-b41a-97031f347768","inputNode":"41aa73b3-8218-3a79-9360-84729cd023d2","metadataId":"a5f147e3-cb60-4170-87ca-32985030f6a7","statements":["86fa62de-5645-43c3-a26f-83aa6812a9c7"]},{"class":"TargetMatchNode","id":"7532b475-ea1f-3c03-b774-d0690ce6fc3a","inputNode":"338d7ec6-3bff-3fc7-b41a-97031f347768","metadataId":"a5f147e3-cb60-4170-87ca-32985030f6a7","targets":[]},{"class":"ComparisonNode","id":"268dab47-de11-32e9-bf02-3a12b56cbc3c","lhsInputNode":"c71befb6-585c-35be-b419-10b3f801da2b","rhsInputNode":"b73b85e0-fb10-302d-a86b-1cc40a403c9a","operator":"CONTAINS"},{"class":"BooleanLogicNode","id":"c005bf91-73af-3eb2-a0fc-dbfd0a2d83ae","inputNodes":["268dab47-de11-32e9-bf02-3a12b56cbc3c"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"e2bd345b-d801-4acf-98df-f944ce1996dd","name":"X-App-Id contains \"BAN\"","properties":{},"disabled":false},{"class":"DecisionNode","id":"0529b910-d20c-3a88-b018-300cdc174490","metadataId":"e2bd345b-d801-4acf-98df-f944ce1996dd","effect":"DENY","inputNode":"c005bf91-73af-3eb2-a0fc-dbfd0a2d83ae"},{"class":"StatementTemplate","id":"352898bc-7060-4688-82c9-eac726692466","name":"Denied reason","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"You are banned (X-App-Id).\"}"}]},"obligatory":false,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"4d2e49d7-f327-3331-b25e-5e177a72879a","inputNode":"0529b910-d20c-3a88-b018-300cdc174490","metadataId":"e2bd345b-d801-4acf-98df-f944ce1996dd","statements":["352898bc-7060-4688-82c9-eac726692466"]},{"class":"TargetMatchNode","id":"27b75140-9ffa-3743-b490-9534ea6f4ef4","inputNode":"4d2e49d7-f327-3331-b25e-5e177a72879a","metadataId":"e2bd345b-d801-4acf-98df-f944ce1996dd","targets":[]},{"class":"Metadata","originType":"Policy","originId":"848b38c8-07fa-439f-94c8-60494365f47d","name":"Banned users must not retrieve data","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"26bb3d1d-c92d-3930-b7ca-35c1d21b98e2","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["7532b475-ea1f-3c03-b774-d0690ce6fc3a","27b75140-9ffa-3743-b490-9534ea6f4ef4"],"inputNodeWeights":[100,100],"guardNode":"19ef2f4b-95f4-3d32-83b5-a09871d1e98e","originLink":"848b38c8-07fa-439f-94c8-60494365f47d"},{"class":"StatementNode","id":"2d95cbd6-4f47-3924-8aba-e7fa3aa4a783","inputNode":"26bb3d1d-c92d-3930-b7ca-35c1d21b98e2","metadataId":"848b38c8-07fa-439f-94c8-60494365f47d","statements":[]},{"class":"TargetMatchNode","id":"1a180c68-dc44-3d9b-9d87-234e9ad17ab3","inputNode":"2d95cbd6-4f47-3924-8aba-e7fa3aa4a783","metadataId":"848b38c8-07fa-439f-94c8-60494365f47d","targets":[]},{"class":"AttributeDefinition","id":"d960d447-ecdd-48aa-ad12-d26708370550","name":"TokenOwner.id","resolvers":[{"class":"attribute","attributeDefinitionId":"3577dd53-a71a-4ce8-ab40-c9c083c7c5b9","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.id"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{}},{"class":"AttributeNode","id":"33e0d651-3ffd-38fe-8ac3-42b17d5098ff","attributeDefinitionId":"d960d447-ecdd-48aa-ad12-d26708370550"},{"class":"ComparisonNode","id":"4f299337-bc69-32f0-9be9-94570f79d09b","lhsInputNode":"33e0d651-3ffd-38fe-8ac3-42b17d5098ff","rhsInputNode":"adb895fa-e09b-3529-abc8-3326d3f78ba2","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"ae18c976-0e80-3ea1-a1d7-d49e6deb25c2","inputNodes":["4f299337-bc69-32f0-9be9-94570f79d09b"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"5650c866-c44d-47c8-a275-2633fb7e4772","name":"TokenOwner.id must not be \"_null\"","properties":{},"disabled":false},{"class":"DecisionNode","id":"99f9ae18-4025-3f3a-a3bd-90d0e9ebe619","metadataId":"5650c866-c44d-47c8-a275-2633fb7e4772","effect":"DENY","inputNode":"ae18c976-0e80-3ea1-a1d7-d49e6deb25c2"},{"class":"StatementNode","id":"b69601b6-f11f-315b-996b-f4cae4770ff5","inputNode":"99f9ae18-4025-3f3a-a3bd-90d0e9ebe619","metadataId":"5650c866-c44d-47c8-a275-2633fb7e4772","statements":[]},{"class":"TargetMatchNode","id":"9eb60351-523a-3d78-8cb9-a23640f06c04","inputNode":"b69601b6-f11f-315b-996b-f4cae4770ff5","metadataId":"5650c866-c44d-47c8-a275-2633fb7e4772","targets":[]},{"class":"Metadata","originType":"Policy","originId":"93d75827-99d7-4ac6-a48c-283a18d2eaf7","name":"Add SH-USER header to inbound requests","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"65bb88c8-e118-3038-ad19-2b55ff9a303a","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["9eb60351-523a-3d78-8cb9-a23640f06c04"],"inputNodeWeights":[100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"93d75827-99d7-4ac6-a48c-283a18d2eaf7"},{"class":"StatementTemplate","id":"5aa6493e-102b-4ccc-854d-44d91aca7533","name":"Add TokenOwner.id as SH-USER header","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-headers"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"SH-USER\": \""},{"@class":"Interpolation","hole":"d960d447-ecdd-48aa-ad12-d26708370550","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\"}"}]},"obligatory":false,"appliesTo":"ANYTHING","attributes":{},"services":{}},{"class":"AttributeDefinition","id":"ee41314a-eb03-4a6e-9561-82ff8dd13865","name":"HttpRequest.AccessToken.subject","resolvers":[{"class":"attribute","attributeDefinitionId":"8e568465-2e7c-4705-8d94-53102ea8550f","condition":null,"expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"sub"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{}},{"class":"StatementTemplate","id":"f9634bfa-7d72-4b05-8480-8766a230915d","name":"Denied reason","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"denied-reason"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{ \"status\": 403, \"message\": \"error_code\", \"detail\":\"User '"},{"@class":"Interpolation","hole":"ee41314a-eb03-4a6e-9561-82ff8dd13865","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"' was not found.\"}"}]},"obligatory":false,"appliesTo":"DENY","attributes":{},"services":{}},{"class":"StatementNode","id":"5ceb0f5f-d14f-35b3-9ba7-44c8d5d32f7f","inputNode":"65bb88c8-e118-3038-ad19-2b55ff9a303a","metadataId":"93d75827-99d7-4ac6-a48c-283a18d2eaf7","statements":["5aa6493e-102b-4ccc-854d-44d91aca7533","f9634bfa-7d72-4b05-8480-8766a230915d"]},{"class":"Target","id":"4c041665-2a44-49eb-9645-3adaa049d430","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["inbound-DELETE","inbound-GET","inbound-PATCH","inbound-POST","inbound-PUT"]},{"class":"TargetMatchNode","id":"9a4da618-4adf-3d8d-9c1e-e11709bedb8e","inputNode":"5ceb0f5f-d14f-35b3-9ba7-44c8d5d32f7f","metadataId":"93d75827-99d7-4ac6-a48c-283a18d2eaf7","targets":["4c041665-2a44-49eb-9645-3adaa049d430"]},{"class":"AttributeDefinition","id":"e9098367-467a-436f-96ed-0e4c0621ca95","name":"HttpRequest.QueryParameters","resolvers":[{"class":"request","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":null,"cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"coerce","valueType":"JSON"},"properties":{}},{"class":"AttributeDefinition","id":"5bb00ab5-2372-4fba-a48e-58b0674b6169","name":"HttpRequest.QueryParameters.name","resolvers":[{"class":"attribute","attributeDefinitionId":"e9098367-467a-436f-96ed-0e4c0621ca95","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.name[0]"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{}},{"class":"AttributeNode","id":"c2f8bb2a-247a-37e4-b953-99a6521272f7","attributeDefinitionId":"5bb00ab5-2372-4fba-a48e-58b0674b6169"},{"class":"ComparisonNode","id":"6095d54b-f953-30d4-b3c7-56efca88f7db","lhsInputNode":"c2f8bb2a-247a-37e4-b953-99a6521272f7","rhsInputNode":"adb895fa-e09b-3529-abc8-3326d3f78ba2","operator":"NOT_EQUALS"},{"class":"AttributeDefinition","id":"770b7069-66a8-4a6b-a65d-38b9dc034ca0","name":"HttpRequest.QueryParameters.operator","resolvers":[{"class":"attribute","attributeDefinitionId":"e9098367-467a-436f-96ed-0e4c0621ca95","condition":"6b0617b1-260a-362a-b56a-09d987f60632","expression":null}],"defaultValue":"_null","cacheScopeAttributeId":null,"cacheTimeToLive":0,"cacheStrategy":"NO_CACHING","isSecret":false,"expression":{"type":"chain","expressions":[{"type":"jsonPath","id":null,"name":null,"valueType":"STRING","expression":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"$.operator[0]"}]}},{"type":"coerce","valueType":"STRING"}]},"properties":{}},{"class":"AttributeNode","id":"46984d28-6bf6-3caa-9ca1-86394fbfc514","attributeDefinitionId":"770b7069-66a8-4a6b-a65d-38b9dc034ca0"},{"class":"ConstantNode","id":"4107e24d-e7c1-30ed-9866-fa1159c0b243","constant":"contains"},{"class":"ComparisonNode","id":"c2123b8b-4b10-3dde-b039-3ea46dfa05c8","lhsInputNode":"46984d28-6bf6-3caa-9ca1-86394fbfc514","rhsInputNode":"4107e24d-e7c1-30ed-9866-fa1159c0b243","operator":"EQUALS"},{"class":"BooleanLogicNode","id":"e790d3a8-65c5-3e1a-9060-d2de0c8cdb9b","inputNodes":["6095d54b-f953-30d4-b3c7-56efca88f7db","c2123b8b-4b10-3dde-b039-3ea46dfa05c8"],"operator":"and"},{"class":"Metadata","originType":"Rule","originId":"30308e4a-2d7c-4eb9-85dc-9d29ad4f5879","name":"name query parameter exists and operator parameter is \"contains\"","properties":{},"disabled":false},{"class":"DecisionNode","id":"3705516f-64e6-33c0-94ad-e3e462f30bf4","metadataId":"30308e4a-2d7c-4eb9-85dc-9d29ad4f5879","effect":"PERMIT","inputNode":"e790d3a8-65c5-3e1a-9060-d2de0c8cdb9b"},{"class":"StatementTemplate","id":"a7a457de-3202-4349-bd2e-62fd6e735a08","name":"Transform query parameters for backend API","code":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"modify-query"}]},"payload":{"@class":"JoiningTemplate","components":[{"@class":"FixedTemplate","x":"{\"name\": \""},{"@class":"Interpolation","hole":"5bb00ab5-2372-4fba-a48e-58b0674b6169","safelyInterpolatable":false},{"@class":"FixedTemplate","x":"\", \"operator\": null, \"compare\": \"co\"}"}]},"obligatory":false,"appliesTo":"PERMIT","attributes":{},"services":{}},{"class":"StatementNode","id":"b6c5f680-4f16-3016-bbdb-cbb325f556a7","inputNode":"3705516f-64e6-33c0-94ad-e3e462f30bf4","metadataId":"30308e4a-2d7c-4eb9-85dc-9d29ad4f5879","statements":["a7a457de-3202-4349-bd2e-62fd6e735a08"]},{"class":"TargetMatchNode","id":"43b653ef-6dba-3ed6-a114-9fcb20f7cca5","inputNode":"b6c5f680-4f16-3016-bbdb-cbb325f556a7","metadataId":"30308e4a-2d7c-4eb9-85dc-9d29ad4f5879","targets":[]},{"class":"Metadata","originType":"Policy","originId":"478af90b-13f6-46d6-8d39-1a7421a60a7b","name":"Transform name filters for backend API consumption","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"278cdbf6-d426-389a-8c3f-0deae8468e47","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["43b653ef-6dba-3ed6-a114-9fcb20f7cca5"],"inputNodeWeights":[100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"478af90b-13f6-46d6-8d39-1a7421a60a7b"},{"class":"StatementNode","id":"c16374d8-19ef-37a6-a590-b8b77ae90b0f","inputNode":"278cdbf6-d426-389a-8c3f-0deae8468e47","metadataId":"478af90b-13f6-46d6-8d39-1a7421a60a7b","statements":[]},{"class":"Target","id":"9114d512-44a9-451e-a4c7-8546cc136f0d","name":"Inline target","domains":[],"services":[],"identityClassIds":[],"actions":["inbound-GET"]},{"class":"TargetMatchNode","id":"9acaf7ff-404c-383b-87b1-f4bf001c2583","inputNode":"c16374d8-19ef-37a6-a590-b8b77ae90b0f","metadataId":"478af90b-13f6-46d6-8d39-1a7421a60a7b","targets":["9114d512-44a9-451e-a4c7-8546cc136f0d"]},{"class":"Metadata","originType":"PolicySet","originId":"a010e3b7-1b12-42c1-a79b-352c1c535b59","name":"Sideband Adapter Policies","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"d4e1b3ab-c8b1-3ba4-9e01-668766ae7f9c","combiningAlgorithm":{"name":"PermitUnlessDeny"},"inputNodes":["716cfd26-e4d1-37a0-a759-003bb43067d8","568e861d-1ca3-3585-89f8-e6be349be859","af92c357-28eb-30f4-928d-0389b42766cc","e739e395-64a6-3fa5-9c1b-dcca3d00839a","1a180c68-dc44-3d9b-9d87-234e9ad17ab3","9a4da618-4adf-3d8d-9c1e-e11709bedb8e","9acaf7ff-404c-383b-87b1-f4bf001c2583"],"inputNodeWeights":[100,100,100,100,100,100,100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"a010e3b7-1b12-42c1-a79b-352c1c535b59"},{"class":"StatementNode","id":"fffbc040-00fd-37c7-b58c-f07407ee466a","inputNode":"d4e1b3ab-c8b1-3ba4-9e01-668766ae7f9c","metadataId":"a010e3b7-1b12-42c1-a79b-352c1c535b59","statements":[]},{"class":"TargetMatchNode","id":"064c1e85-82d1-312a-a023-24918e148a96","inputNode":"fffbc040-00fd-37c7-b58c-f07407ee466a","metadataId":"a010e3b7-1b12-42c1-a79b-352c1c535b59","targets":[]},{"class":"Metadata","originType":"PolicySet","originId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","name":"Global Decision Point","properties":{},"disabled":false},{"class":"CombinedDecisionNode","id":"237207be-7fa2-352d-8108-01263433b4e3","combiningAlgorithm":{"name":"DenyOverrides"},"inputNodes":["296b80e0-3967-3376-ab6a-49521b0bc76e","3c6477ad-d041-30af-a837-c4d2b90a4733","064c1e85-82d1-312a-a023-24918e148a96"],"inputNodeWeights":[100,100,100],"guardNode":"6b0617b1-260a-362a-b56a-09d987f60632","originLink":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1"},{"class":"StatementNode","id":"9599c584-130e-3e08-aa3d-9e254792062d","inputNode":"237207be-7fa2-352d-8108-01263433b4e3","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","statements":[]},{"class":"TargetMatchNode","id":"ae52a9f3-52a0-39bf-896a-2fb965273af8","inputNode":"9599c584-130e-3e08-aa3d-9e254792062d","metadataId":"e51688ff-1dc9-4b6c-bb36-8af64d02e9d1","targets":[]},{"@class":"DataStreamFooter","digest":"XsMjSqfeLnzz96uRTe/pPv6WMP1LrMQRieEnolTCgmU="}]